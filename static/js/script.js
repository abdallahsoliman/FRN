// Generated by CoffeeScript 1.10.0
(function() {
  webshim.setOptions('forms-ext', {
    replaceUI: 'auto',
    types: 'number'
  });

  webshim.polyfill('forms forms-ext');

  $("#btn-donate").click(function(e) {
    var amount, stripeHandler;
    amount = $("#donate-amount").val() * 100;
    stripeHandler = StripeCheckout.configure({
      key: stripeKey,
      token: function(token) {
        return $.ajax({
          type: "POST",
          url: donateURL,
          data: {
            token: token.id,
            amount: amount,
            email: token.email
          },
          success: function(response) {
            console.log(response);
            $("#donate-money-container").append(response);
          }
        });
      }
    });
    stripeHandler.open({
      name: "CWRU Food Recovery Network",
      description: "Donation for CWRU Food Recovery Network via website",
      amount: amount
    });
    e.preventDefault();
  });

  $(window).on('popstate', function() {
    stripeHandler.close();
  });

  $(window).on("load", function() {
    var previousRow;
    previousRow = null;
    $("#gallery .gallery .row").each(function(i, row) {
      if (previousRow !== null) {
        $(row).children().each(function(j, img) {
          var colDiff, rowDiff;
          rowDiff = $(previousRow).height() - $($(previousRow).children()[j]).height();
          colDiff = parseInt($(img).css('padding-left').replace("px", "")) + parseInt($(img).css('padding-right').replace("px", ""));
          console.log(colDiff);
          if (rowDiff > colDiff) {
            $(img).css("margin-top", "-" + (rowDiff - colDiff) + "px");
          }
        });
      }
      previousRow = row;
    });
  });

}).call(this);

//# sourceMappingURL=script.js.map
